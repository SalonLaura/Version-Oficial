{% extends 'estudio/base.html' %}
{% load static custom_filters %}

{% block styles %}
<script src="{% static 'js/datepicker.min.js' %}"></script>
{% endblock styles %}
                
{% block content %}


<div class="relative overflow-x-auto">
    <div class="flex h-full justify-center">
        <div class="flex flex-col items-center flex-grow bg-white">
            <div class="rounded-lg w-full flex items-center justify-center">
                <div class="w-full h-full">
                    <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
                        <thead>
                            <tr class="text-xs text-gray-700 uppercase bg-gray-100 dark:bg-gray-700 dark:text-gray-400 sticky top-0">
                                <th scope="col" class="px-6 py-3"> Codigo</th>
                                <th scope="col" class="px-6 py-3"> Cliente</th>
                                <th scope="col" class="px-6 py-3"> Tipo de contrato</th>
                                <th scope="col" class="px-6 py-3"> Nombre del contrato</th>
                                <th scope="col" class="px-6 py-3">Fotografo</th>
                                <th scope="col" class="px-6 py-3">Editor</th>
                                <th scope="col" class="px-6 py-3">Fecha de solicitud</th>
                                <th scope="col" class="px-6 py-3">Fecha acordada</th>
                                <th scope="col" class="px-6 py-3">Fecha de realizacion</th>
                                <th scope="col" class="px-6 py-3">Fecha de cierre</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for contrato in contratos %}
                            <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700">
                                <th class="px-6 py-3 font-bold"><a href="{%url 'VerContratoTerminadoEstudio' id=contrato.id %}" class="text-blue-600 hover:underline">{{contrato.numeroCliente}}{{contrato.fecha_solicitud|date:"MdY"}}</a></th>
                                <th class="px-6 py-3 font-normal"> {{contrato.nombre}} </th>
                                <th class="px-6 py-3 font-normal"> {{contrato.contrato.tipo.nombre}}</th>
                                <th class="px-6 py-3 font-normal"> {{contrato.contrato.nombre}} </th>
                                <th class="px-6 py-3 font-normal">{{contrato.fotografo.nombre}}</th>
                                <th class="px-6 py-3 font-normal">{{contrato.editor.nombre}}</th>
                                <th class="px-6 py-3 font-normal">{{contrato.fecha_solicitud|date:"d/m/Y"}}</th>
                                <th class="px-6 py-3 font-normal">{{contrato.fecha_acordada|date:"d/m/Y"}}</th>
                                <th class="px-6 py-3 font-normal">{{contrato.fecha_realizacion|date:"d/m/Y"}}</th>
                                <th class="px-6 py-3 font-normal">{{contrato.fecha_fin|date:"d/m/Y"}}</th>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock content %}


{% block scripts %}

{% endblock scripts %}